
<div class="mi-lista">
  <h1>Mi Lista</h1>

  <!-- esto es del filtro -->
  <select class="filtro-estado" (change)="cambiarFiltro($event)">
  <option value="">Todos</option>
  <option value="Pendiente">Pendiente</option>
  <option value="Viendo">Viendo</option>
  <option value="Completado">Completado</option>
  <option value="Abandonado">Abandonado</option>
</select>

  <!-- listas filttradas -->
  @for (anime of listaFiltrada; track anime.mal_id) {
    <div class="item">
      <img [src]="anime.images.jpg.image_url">
      <h3>{{ anime.title }}</h3>

      <select (change)="cambiarEstado(anime.mal_id, $event)">
        <option [selected]="anime.estado === 'Pendiente'">Pendiente</option>
        <option [selected]="anime.estado === 'Viendo'">Viendo</option>
        <option [selected]="anime.estado === 'Completado'">Completado</option>
        <option [selected]="anime.estado === 'Abandonado'">Abandonado</option>
      </select>

      <button (click)="toggleFavorito(anime.mal_id)">
        {{ anime.favorito ? 'Quitar favorito' : 'Marcar favorito' }}
      </button>

      <button (click)="eliminar(anime.mal_id)">Eliminar</button>
    </div>
  }
</div>